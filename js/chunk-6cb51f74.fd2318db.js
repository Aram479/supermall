(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6cb51f74"],{"0eae":function(t,e,n){},"3c70":function(t,e,n){"use strict";n("fa52")},"4fe0":function(t,e,n){"use strict";n("0eae")},"8d2e":function(t,e,n){"use strict";n("d82e")},b293:function(t,e,n){"use strict";n("e68c")},bb3a:function(t,e,n){},bb51:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"category"},[n("category-bar"),n("category-left",{attrs:{leftInfo:t.leftList},on:{leftClick:t.leftClick}}),n("category-right",{attrs:{rightInfo:t.rightInfo,titleInfo:t.showGoods},on:{titleClick:t.titleClick}})],1)},r=[],a=n("5530"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"categorybar"},[n("nav-bar",[n("div",{attrs:{slot:"center"},slot:"center"},[t._v("商品分类")])])],1)},s=[],l=n("a7ac"),o={name:"CategoryBar",data:function(){return{}},components:{NavBar:l["a"]}},u=o,f=(n("8d2e"),n("2877")),d=Object(f["a"])(u,c,s,!1,null,"3ed3e456",null),h=d.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"categoryLeft"},[n("scroll",{ref:"scroll",staticClass:"content",attrs:{probeType:2,"pull-up-load":!0}},t._l(t.leftInfo,(function(e,i){return n("div",{staticClass:"leftInfo",class:{active:i==t.currentIndex},on:{click:function(e){return t.leftClick(i)}}},[t._v(" "+t._s(e.title)+" ")])})),0)],1)},y=[],C=n("9fb0"),p={name:"categoryLeft",props:{leftInfo:{type:Array,default:[]}},data:function(){return{currentIndex:0}},methods:{leftClick:function(t){this.currentIndex=t,this.$emit("leftClick",t)}},components:{Scroll:C["a"]}},m=p,v=(n("b293"),Object(f["a"])(m,g,y,!1,null,"523e98a6",null)),b=v.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"categoryright"},[n("scroll",{ref:"scroll",staticClass:"content",attrs:{probeType:2,"pull-up-load":!0}},[t._l(t.rightInfo,(function(e,i){return n("div",{staticClass:"rightInfo"},[n("a",{attrs:{href:e.link}},[n("img",{attrs:{src:e.image,alt:""},on:{load:t.imgLoad}}),n("div",[t._v(t._s(e.title))])])])})),n("cate-title",{on:{titleClick:t.titleClick}}),n("goods-list",{attrs:{goods:t.titleInfo}})],2)],1)},I=[],_=n("6d71"),x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"catetitle"},t._l(t.title,(function(e,i){return n("div",{staticClass:"title",on:{click:function(e){return t.titleClick(i)}}},[n("span",{class:{active:t.currentIndex==i}},[t._v(t._s(e))])])})),0)},w=[],L={name:"CateTitle",data:function(){return{title:["流行","新款","推荐"],currentIndex:0}},methods:{titleClick:function(t){this.currentIndex=t,this.$emit("titleClick",t)}},components:{}},$=L,j=(n("3c70"),Object(f["a"])($,x,w,!1,null,"4a3c18f0",null)),O=j.exports,K=n("eecb"),E={name:"CategoryRight",props:{rightInfo:{type:Array,default:[]},titleInfo:{type:Array,default:[]}},data:function(){return{saveY:0}},deactivated:function(){this.saveY=this.$refs.scroll.scroll.y},activated:function(){this.$refs.scroll.refresh(),this.$refs.scroll.scrollTo(0,this.saveY)},mixins:[K["b"],K["a"]],methods:{imgLoad:function(){this.newRefresh()},titleClick:function(t){this.$emit("titleClick",t)}},components:{GoodsList:_["a"],CateTitle:O,Scroll:C["a"]}};C["a"];var T=E,W=(n("4fe0"),Object(f["a"])(T,k,I,!1,null,"344ec946",null)),D=W.exports,A=n("1bab");function B(){return Object(A["a"])({url:"/category"})}function G(t){return Object(A["a"])({url:"/subcategory",params:{maitKey:t}})}function M(t,e){return Object(A["a"])({url:"/subcategory/detail",params:{miniWallkey:t,type:e}})}var R={name:"Category",data:function(){return{leftList:null,currMaitKey:0,currminiWallkey:0,rightInfo:null,currIndex:0,current:"pop",goods:{pop:[],new:[],sell:[]}}},created:function(){var t=this;this.getCategory(),this.$bus.$on("titleClick",(function(e){t.currIndex=e||0}))},computed:{showGoods:function(){return this.goods[this.current]}},methods:{getCategory:function(t){var e=this;B(t).then((function(n){e.currIndex=t||0;var i=n.data.category.list;e.leftList=i,e.getCategoryInfo(e.leftList[0].maitKey),e.getCategoryDetail("pop"),e.getCategoryDetail("new"),e.getCategoryDetail("sell")}))},getCategoryInfo:function(t){var e=this;G(t).then((function(t){var n=t.data.list;e.rightInfo=n}))},getCategoryDetail:function(t){var e=this,n=this.leftList[this.currIndex].miniWallkey;M(n,t).then((function(n){e.goods[t]=n,e.goods=Object(a["a"])({},e.goods)}))},leftClick:function(t){this.currMaitKey=this.leftList[t].maitKey,this.currminiWallkey=this.leftList[t].miniWallkey,this.getCategoryInfo(this.currMaitKey),this.getCategory(t)},titleClick:function(t){switch(t){case 0:this.current="pop";break;case 1:this.current="new";break;case 2:this.current="sell"}}},components:{CategoryLeft:b,CategoryRight:D,CategoryBar:h}},Y=R,J=(n("c407"),Object(f["a"])(Y,i,r,!1,null,"c24a184c",null));e["default"]=J.exports},c407:function(t,e,n){"use strict";n("bb3a")},d82e:function(t,e,n){},e68c:function(t,e,n){},fa52:function(t,e,n){}}]);
//# sourceMappingURL=chunk-6cb51f74.fd2318db.js.map